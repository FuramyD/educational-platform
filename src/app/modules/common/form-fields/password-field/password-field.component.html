<div class="ep-password-field">
    <label class="ep-text-field__label"
           [class._focused]="_focused || _dirty"
           [for]="controlName"
    >{{ label }}</label>
    <input
        class="ep-password-field__input"
        [class._focused]="_focused || _dirty"
        [type]="visible ? 'text' : 'password'"
        [id]="controlName"
        [formControlName]="controlName"
        (focus)="_onFocus()"
        (blur)="_onBlur()"
        (input)="_onChange($event)"
    >
    <span class="ep-password-field__icon" (click)="_toggleVisibility()">
        <ng-container *ngIf="visible then visibleIcon else invisibleIcon"></ng-container>
    </span>
</div>

<ng-template #visibleIcon>
    <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <rect opacity="0.4" width="15" height="15" fill="url(#pattern0)"/>
        <defs>
            <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
                <use xlink:href="#image0_307_795" transform="scale(0.0166667)"/>
            </pattern>
            <image id="image0_307_795" width="60" height="60" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABmJLR0QA/wD/AP+gvaeTAAADnUlEQVRoge3azW8VVRjH8Q/3YmsCpBpARWNcSUtUcKFIUxfamOjOl8SdsejClbAhuhMIkrjxJcZ/wLeFWjXRNTbEhaABCqhEI2KCGHZGrFYh5V4WZ64p5PbOnDN3rizmmzybmd7f83tm5px55pxSU1NTU1NTU1NTDcsq1r8D9+JubMI6jOC67PwfWZzFcRzFNzhRsa++MoE3cArtxPgZr2N8wN4Lcy2exaz0IpeKw3gGwwOrpgcNPKnc3Swav+I5NAdSWRcm8F0Pg1XFMQN+1FfiLVzsYxGxcRFvYkXFtboLP0Saa+EQXsIDGM2MrsBYdmynMFZjCz+BO6sqdgrzkYV+iPUROUYxnf22aJ6/8VSpyq5gGfZGGGjjJDaXyLlF3ETYwsv60Fc08U5E4jZmsLpsYqzB/sjcbysxizfxXmTCGVyTmrALQ+KLfldC0c3shzGJTmFtamU9WI2fIr18gOVFEzTwfmSClnJjNo9xcRNZ504XGtOvRAp3rmjVfJzga2+e6NYE0ZZir55hbMdB/JXFQWxTrE8eS/DWxtNLCd6P8wmChwqYvUX49FtKYzb7mzyOJPj7V2iDL+N6nE4QawsdVC+Gc4pdXHTend6V6PF0VuN/TCcKtYXWsBfbI7Sez9GaLOHzo45IyrhdHHnj9+sIrQM5WqMlvW6FMyVFVuWYnIvQ+jNHa1VJr2caql/Xuqpo4LWSGutyzscsyH2fc/7mCK1uvErofY9Jf0wezEmyLUKryknrqEV9/mYsJArtzDE5rNji3qzwsdCL3YkeF3DPlWJ7EsUO55gkNBW9ii7aeKSuiu7pJtbEFwliLeF1kceQ8MgeEGbuOXyVHcu7s7Ahsdh9enwu3oDfEkSnCxguy6cJvs7Kn1TdJ+7d2bnLW/pVWRcmxH8ezon4ZJ3EP5EJflHdAsDJSC/n8XBsoifEz9z7FRuPRRnCl5EeFvB4asIpaUWvSU24iLXSip0qm/hRcevRbWF9q8x2yIQwRGJyzuOxEjkvY1z87N0SlmXGIvJswCeRedqZt77vN90kfsm0E0eEj/dJ4QKszGIsO7ZbelMxgxv7XWyH5XhR/AxeRczjBQPaPh2V1pX1K/bh9sqr7MJD0nb9UuNbYQP+f6WBR/C5avaMF/BZluOqW6y4DTuEieSC9CIvCENmB27tp8Eqr9iI0JdvFDbS1wtt4kgWbZzL4nf8KPwLxXFh4e9chd5qampqampqamr6ziWUg0LSp2iQkQAAAABJRU5ErkJggg=="/>
        </defs>
    </svg>

</ng-template>
<ng-template #invisibleIcon>
    <svg width="15" height="15" viewBox="0 0 15 15" fill="red" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <rect opacity="0.4" width="15" height="15" fill="url(#pattern0)"/>
        <defs>
            <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
                <use xlink:href="#image0_307_795" transform="scale(0.0166667)"/>
            </pattern>
            <image id="image0_307_795" width="60" height="60" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABmJLR0QA/wD/AP+gvaeTAAADnUlEQVRoge3azW8VVRjH8Q/3YmsCpBpARWNcSUtUcKFIUxfamOjOl8SdsejClbAhuhMIkrjxJcZ/wLeFWjXRNTbEhaABCqhEI2KCGHZGrFYh5V4WZ64p5PbOnDN3rizmmzybmd7f83tm5px55pxSU1NTU1NTU1NTDcsq1r8D9+JubMI6jOC67PwfWZzFcRzFNzhRsa++MoE3cArtxPgZr2N8wN4Lcy2exaz0IpeKw3gGwwOrpgcNPKnc3Swav+I5NAdSWRcm8F0Pg1XFMQN+1FfiLVzsYxGxcRFvYkXFtboLP0Saa+EQXsIDGM2MrsBYdmynMFZjCz+BO6sqdgrzkYV+iPUROUYxnf22aJ6/8VSpyq5gGfZGGGjjJDaXyLlF3ETYwsv60Fc08U5E4jZmsLpsYqzB/sjcbysxizfxXmTCGVyTmrALQ+KLfldC0c3shzGJTmFtamU9WI2fIr18gOVFEzTwfmSClnJjNo9xcRNZ504XGtOvRAp3rmjVfJzga2+e6NYE0ZZir55hbMdB/JXFQWxTrE8eS/DWxtNLCd6P8wmChwqYvUX49FtKYzb7mzyOJPj7V2iDL+N6nE4QawsdVC+Gc4pdXHTend6V6PF0VuN/TCcKtYXWsBfbI7Sez9GaLOHzo45IyrhdHHnj9+sIrQM5WqMlvW6FMyVFVuWYnIvQ+jNHa1VJr2caql/Xuqpo4LWSGutyzscsyH2fc/7mCK1uvErofY9Jf0wezEmyLUKryknrqEV9/mYsJArtzDE5rNji3qzwsdCL3YkeF3DPlWJ7EsUO55gkNBW9ii7aeKSuiu7pJtbEFwliLeF1kceQ8MgeEGbuOXyVHcu7s7Ahsdh9enwu3oDfEkSnCxguy6cJvs7Kn1TdJ+7d2bnLW/pVWRcmxH8ezon4ZJ3EP5EJflHdAsDJSC/n8XBsoifEz9z7FRuPRRnCl5EeFvB4asIpaUWvSU24iLXSip0qm/hRcevRbWF9q8x2yIQwRGJyzuOxEjkvY1z87N0SlmXGIvJswCeRedqZt77vN90kfsm0E0eEj/dJ4QKszGIsO7ZbelMxgxv7XWyH5XhR/AxeRczjBQPaPh2V1pX1K/bh9sqr7MJD0nb9UuNbYQP+f6WBR/C5avaMF/BZluOqW6y4DTuEieSC9CIvCENmB27tp8Eqr9iI0JdvFDbS1wtt4kgWbZzL4nf8KPwLxXFh4e9chd5qampqampqamr6ziWUg0LSp2iQkQAAAABJRU5ErkJggg=="/>
        </defs>
    </svg>
</ng-template>
